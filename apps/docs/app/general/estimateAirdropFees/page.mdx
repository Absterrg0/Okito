import { Callout } from 'nextra/components'
import PropsTable from '../..//PropsTable.jsx'

## `estimateAirdropFees`

Estimates total cost for an SPL token airdrop, including rent for new recipient token accounts and an RPC-based fee estimate for a representative transfer message.

<Callout type="info">
For large recipient lists, real airdrops are split across transactions. The estimate sizes a single representative message and applies a small buffer.
</Callout>

## Usage

``` jsx filename="page.tsx"
import { useConnection } from "@solana/wallet-adapter-react";
import { estimateAirdropFee, type AirdropRecipient } from "@okito/sdk";

const recipients: AirdropRecipient[] = [
  { address: "...", amount: 10n },
  { address: "...", amount: 20n },
];

const {connection} = useConnection();
const airdropFees = await estimateAirdropFee(connection, recipients, /* accountsToCreate */ 2);
```

## Parameters

<PropsTable
  rows={[
    { name: "connection", type: "Connection", description: "Solana connection instance." },
    { name: "recipients", type: <a href="/general/airdropRecipient">AirdropRecipient[]</a>, description: "Recipient addresses and amounts (bigint recommended)." },
    { name: "accountsToCreate", type: "number", description: "How many recipient ATAs are expected to be created." },
    { name: "priorityFee", type: "number", description: "Optional priority fee in micro‑lamports.", default: "—" },
  ]}
/>

## Response

<PropsTable
  rows={[
    { name: "estimatedFee", type: "number", description: "Total estimated fee in lamports." },
    { name: "breakdown", type: `{ transactionFees: number; accountCreations: number; priorityFees: number; }`, description: "Component costs." },
  ]}
/>