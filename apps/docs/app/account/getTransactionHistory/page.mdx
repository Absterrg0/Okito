import { Callout } from 'nextra/components'
import PropsTable from '../../PropsTable.jsx'
import TypeLink from '../../TypeLink.jsx'

# `getTransactions`

Fetches recent transactions for a given address with simple pagination support.

## Usage

``` jsx filename="page.tsx"
import { useConnection } from "@solana/wallet-adapter-react";
import { getTransactions } from "@okito/sdk";

const {connection} = useConnection();

const wallet = useWallet();

const options = {
        limit: 5,               //The number of transactions to fetch(Max 500)
        before: "",             //The signature to fetch from
        until: "",              //The signature to fetch to
        commitment: "processed" //The commitment level to use
}

const transactionHistory = await getTransactions(connection,address,options)
```

<Callout type="warning">
The default values of the params( **limit = 20, commitment = "confirmed"** ) will be used if not provided.
</Callout>

## Capabilities

<Callout type="info">
- Limit, before, until parameters for pagination
- Batching under the hood for efficient lookups
- Returns parsed transactions when available
</Callout>

## Parameters

<PropsTable
  rows={[
    { name: "connection", type: "Connection", description: "Solana connection instance." },
    { name: "address", type: "PublicKey | string", description: "Address to query." },
    { name: "options", type: "TransactionHistoryOptions", description: "Limit, before, until, commitment." },
  ]}
/>

## Response

<PropsTable
  rows = {[
    {
      name:"transactions?",
      type:<TypeLink href="#parsedtransactionwithmeta">ParsedTransactionWithMeta[]</TypeLink>,
      description:"The transactions fetched",
      default:"—"
    },
    {
      name:"success",
      type:"boolean",
      description:"Whether the transactions were fetched successfully",
    },
    {
      name:"error?",
      type:"string",
      description:"The error message if the transactions were not fetched successfully",
      default:"—"
    },{
     name:"signatures?",
     type:<TypeLink href="#confirmedsignatureinfo">ConfirmedSignatureInfo[]</TypeLink>,
     description:"The raw signatures fetched",
     default:"—"
    },{
        name:"hasMore?",
        type:"boolean",
        description:"Whether there are more transactions to fetch",
        default:"—"
    }
  ]}
/>





## Types 

### `ParsedTransactionWithMeta`

<PropsTable
 rows={[
    {
        name:"slot",
        type:"number",
        description:"The slot during which the transaction was processed",
        default:"—"
    },
    {
        name:"transaction",
        type:"ParsedTransaction",
        description:"The transaction details",
        default:"—"
    },
    {
        name:"meta",
        type:"ParsedTransactionMeta | null",
        description:"The metadata produced from the transaction",
        default:"—"
    },
    {
        name:"blockTime",
        type:"number | null",
        description:"The unix timestamp of when the transaction was processed",
        default:"—"
    },
    {
        name:"version",
        type:"TransactionVersion | undefined",
    }
 ]}
/>





### `ConfirmedSignatureInfo`


<PropsTable
 rows={[
    {
        name:"signature",
        type:"string",
        description:"The signature of the transaction",
        default:"—"
    },
    {
        name:"slot",
        type:"number",
        description:"The slot during which the transaction was processed",
        default:"—"
    },
    {
        name:"err",
        type:"TransactionError | null",
        description:"The error produced from the transaction",
        default:"—"
    },
    {
        name:"memo",
        type:"'string' | null",
        description:"The memo associated with the transaction(if any)",
        default:"—"
    },
    {
        name:"blockTime",
        type:"number | null",
        description:"The unix timestamp of when the transaction was processed",
        default:"—"
    },
    {
        name:"confirmationStatus",
        type:"'processed' | 'confirmed' | 'finalized' | undefined",
        description:"The confirmation status of the transaction",
        default:"—"
    }
 ]}
/>
